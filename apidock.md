ì¢‹ì•„ìš” ğŸ‘
ì•„ë˜ëŠ” ìœ„ì—ì„œ ì‘ì„±í•œ **PRD**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ **API ëª…ì„¸ì„œ(api.md)** ì´ˆì•ˆì…ë‹ˆë‹¤.
ìš”ì²­í•˜ì‹  ë‘ ê°€ì§€ ê¸°ëŠ¥ â€” **â‘  ê¸°ë¡ ì €ì¥ API**, **â‘¡ ë‚œì´ë„ë³„ ë­í‚¹ ì¡°íšŒ API** â€” ë§Œì„ í¬í•¨í–ˆìœ¼ë©°,
**Nest.js + ì„œë²„ ë©”ëª¨ë¦¬ ê¸°ë°˜ MVP**ì— ë§ì¶° ìµœì†Œ í•„ìˆ˜ ì •ë³´ë§Œ ì •ì˜í–ˆìŠµë‹ˆë‹¤.

---

# ğŸª° Mosquito Reflex Test â€“ API ëª…ì„¸ì„œ

**Base URL:**

```
https://port-0-gdgoc-be-mhfzsi18c2d778ef.sel3.cloudtype.app/
```

---

## ğŸ“˜ 1. ê¸°ë¡ ì €ì¥ API

ìœ ì €ê°€ ê²Œì„ì„ ëë‚´ë©´ **ì ìˆ˜ì™€ ê±¸ë¦° ì‹œê°„, ë‚œì´ë„, ì´ë¦„**ì„ ì„œë²„ì— ì „ì†¡í•©ë‹ˆë‹¤.
ì„œë²„ëŠ” í•´ë‹¹ ë‚œì´ë„ ë­í‚¹ ë¦¬ìŠ¤íŠ¸ì— ìƒˆë¡œìš´ ê¸°ë¡ì„ ì €ì¥í•˜ê³ , ìƒìœ„ 5ëª… ì´ë‚´ë©´ ë­í‚¹ì— ë°˜ì˜í•©ë‹ˆë‹¤.

### â–ªï¸ Endpoint

```
POST /api/score
```

### â–ªï¸ Description

* ê²Œì„ ì¢…ë£Œ í›„ ìœ ì €ì˜ **ì ìˆ˜ ë° ê¸°ë¡ ì‹œê°„ ì €ì¥**
* ì„œë²„ ë©”ëª¨ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ì €ì¥ (DB ì—†ìŒ)
* ë‚œì´ë„ë³„ ë­í‚¹ì„ ìë™ ì •ë ¬ í›„ ê´€ë¦¬
  (ì ìˆ˜ ë‚´ë¦¼ì°¨ìˆœ â†’ ê°™ì€ ì ìˆ˜ì¼ ê²½ìš° ê¸°ë¡ ì‹œê°„ ì˜¤ë¦„ì°¨ìˆœ)

### â–ªï¸ Request Body

| í•„ë“œëª…          | íƒ€ì…     | í•„ìˆ˜ | ì„¤ëª…                             |
| ------------ | ------ | -- | ------------------------------ |
| `name`       | string | âœ…  | ìœ ì € ì´ë¦„ (1~20ì)                  |
| `difficulty` | string | âœ…  | ë‚œì´ë„ (`easy`, `medium`, `hard`) |
| `score`      | number | âœ…  | ì´ ì ìˆ˜                           |
| `time`       | number | âœ…  | ëª¨ê¸° ì¡ëŠ”ë° ê±¸ë¦° ì‹œê°„ (ì´ˆ ë‹¨ìœ„, ì†Œìˆ˜ì  ê°€ëŠ¥)    |

#### ğŸ§© ì˜ˆì‹œ ìš”ì²­

```json
POST /api/score
Content-Type: application/json

{
  "name": "Doyeon",
  "difficulty": "medium",
  "score": 24,
  "time": 52.37
}
```

### â–ªï¸ Response

| í•„ë“œëª…       | íƒ€ì…      | ì„¤ëª…                          |
| --------- | ------- | --------------------------- |
| `success` | boolean | ì„±ê³µ ì—¬ë¶€                       |
| `message` | string  | ê²°ê³¼ ë©”ì‹œì§€                      |
| `rank`    | number  | í˜„ì¬ ìœ ì €ì˜ ë­í‚¹ (ìƒìœ„ 5ìœ„ ì•ˆì¼ ê²½ìš°ë§Œ í‘œì‹œ) |

#### âœ… ì˜ˆì‹œ ì‘ë‹µ (ì„±ê³µ)

```json
{
  "success": true,
  "message": "Score successfully recorded.",
  "rank": 3
}
```

#### âš ï¸ ì˜ˆì‹œ ì‘ë‹µ (ìœ íš¨í•˜ì§€ ì•Šì€ ë‚œì´ë„)

```json
{
  "success": false,
  "message": "Invalid difficulty level."
}
```

---

## ğŸ“˜ 2. ë‚œì´ë„ë³„ ë­í‚¹ ì¡°íšŒ API

í˜„ì¬ ì„œë²„ì— ì €ì¥ëœ **ìƒìœ„ 5ëª…ì˜ ë­í‚¹ ì •ë³´**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
ìœ ì € ì´ë¦„, ì ìˆ˜, ê¸°ë¡ ì‹œê°„, ë“±ë¡ ì‹œê°ì„ í•¨ê»˜ í‘œì‹œí•©ë‹ˆë‹¤.

### â–ªï¸ Endpoint

```
GET /api/rank/:difficulty
```

### â–ªï¸ Description

* ë‚œì´ë„ë³„ ë­í‚¹(1ìœ„~5ìœ„) ì¡°íšŒ
* ì ìˆ˜ ë‚´ë¦¼ì°¨ìˆœ, ë™ì  ì‹œ ê±¸ë¦° ì‹œê°„ ì§§ì€ ìˆœ
* ì„œë²„ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ë°ì´í„° ê¸°ì¤€

### â–ªï¸ Path Parameters

| í•„ë“œëª…          | íƒ€ì…     | í•„ìˆ˜ | ì„¤ëª…                                 |
| ------------ | ------ | -- | ---------------------------------- |
| `difficulty` | string | âœ…  | ì¡°íšŒí•  ë‚œì´ë„ (`easy`, `medium`, `hard`) |

### â–ªï¸ Response

| í•„ë“œëª…          | íƒ€ì…     | ì„¤ëª…          |
| ------------ | ------ | ----------- |
| `difficulty` | string | ì¡°íšŒ ë‚œì´ë„      |
| `ranking`    | array  | ìƒìœ„ 5ëª… ë­í‚¹ ì •ë³´ |

#### `ranking` ë°°ì—´ ìš”ì†Œ

| í•„ë“œëª…          | íƒ€ì…     | ì„¤ëª…                 |
| ------------ | ------ | ------------------ |
| `rank`       | number | ìˆœìœ„ (1~5)           |
| `name`       | string | ìœ ì € ì´ë¦„              |
| `score`      | number | ì ìˆ˜                 |
| `time`       | number | ëª¨ê¸° ì¡ëŠ”ë° ê±¸ë¦° ì‹œê°„ (ì´ˆ)   |
| `recordedAt` | string | ë“±ë¡ ì‹œê° (ISO8601 í˜•ì‹) |

#### âœ… ì˜ˆì‹œ ìš”ì²­

```
GET /api/rank/medium
```

#### âœ… ì˜ˆì‹œ ì‘ë‹µ

```json
{
  "difficulty": "medium",
  "ranking": [
    { "rank": 1, "name": "Alice", "score": 35, "time": 47.2, "recordedAt": "2025-11-01T08:23:00Z" },
    { "rank": 2, "name": "Bob", "score": 30, "time": 49.1, "recordedAt": "2025-11-01T08:25:00Z" },
    { "rank": 3, "name": "Doyeon", "score": 24, "time": 52.4, "recordedAt": "2025-11-01T08:27:10Z" },
    { "rank": 4, "name": "Minji", "score": 22, "time": 53.0, "recordedAt": "2025-11-01T08:30:12Z" },
    { "rank": 5, "name": "Jinwoo", "score": 20, "time": 59.8, "recordedAt": "2025-11-01T08:31:43Z" }
  ]
}
```

#### âš ï¸ ì˜ˆì‹œ ì‘ë‹µ (ì—†ëŠ” ë‚œì´ë„)

```json
{
  "difficulty": "unknown",
  "ranking": []
}
```

---

## ğŸ“„ Error Codes

| HTTP Status | ì½”ë“œ                    | ì„¤ëª…                 |
| ----------- | --------------------- | ------------------ |
| `200`       | OK                    | ì •ìƒ ì‘ë‹µ              |
| `400`       | BAD_REQUEST           | í•„ìˆ˜ ì…ë ¥ ëˆ„ë½ ë˜ëŠ” ì˜ëª»ëœ ìš”ì²­ |
| `404`       | NOT_FOUND             | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë‚œì´ë„ ìš”ì²­     |
| `500`       | INTERNAL_SERVER_ERROR | ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜           |

---

## ğŸ§  ì„œë²„ ë©”ëª¨ë¦¬ êµ¬ì¡° ì˜ˆì‹œ (Nest.js ë‚´ë¶€)

```ts
interface ScoreRecord {
  name: string;
  score: number;
  time: number;
  recordedAt: Date;
}

const rankings = {
  easy: [] as ScoreRecord[],
  medium: [] as ScoreRecord[],
  hard: [] as ScoreRecord[],
};
```

---

## ğŸ“… ë²„ì „ ì •ë³´

* **ë²„ì „:** v1.0 (MVP)
* **ì‘ì„±ì¼:** 2025-11-01
* **ì‘ì„±ì:** ê¶Œë„ì—°
* **Backend Framework:** Nest.js
* **Frontend Framework:** Next.js + TailwindCSS

---
